Software Requirements
=====================

.. _SWR1.1:

.. table:: SWR1.1
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR1.1       | The stop/start activation button will cause an event trigger when pressed.                           |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR1.2:

.. table:: SWR1.2
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR1.2       | The software shall update an internal state variable (e.g., start_stop_active) upon detecting a      |
   |              | valid button press to represent the current activation state.                                        |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR1.3:

.. table:: SWR1.3
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR1.3       | The software shall generate an immediate visual and/or audio alert when the driver manually toggles  |
   |              | the system on or off, reflecting the new state of the start_stop_active variable.                    |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR1.4:

.. table:: SWR1.4
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR1.4       | The software shall transmit a command via the vehicle network (CAN) to illuminate or extinguish an   |
   |              | indicator light on the dashboard when the activation state changes.                                  |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR1.5:

.. table:: SWR1.5
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR1.5       | The software shall log each activation/deactivation event in non-volatile memory with a timestamp    |
   |              | for diagnostic purposes (diagnostic buffer).                                                         |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.1:

.. table:: SWR2.1
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.1       | The software shall read and buffer vehicle speed, brake status, inclinometer and gear position       |
   |              | signals from the corresponding sensors/ECUs.                                                         |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.2:

.. table:: SWR2.2
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.2       | The software shall evaluate engine coolant temperature and/or oil temperature signals to verify they |
   |              | are within the acceptable range before allowing the engine turn-off sequence.                        |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.3:

.. table:: SWR2.3
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.3       | The software shall compare the current dedicated battery state of charge (SoC) to a predefined       |
   |              | threshold before initiating engine turn-off.                                                         |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.4:

.. table:: SWR2.4
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.4       | The software shall issue an “Engine Off” command to the ECU only when all monitored conditions are   |
   |              | satisfied (vehicle stationary, adequate temperature, sufficient battery, etc.).                      |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.5:

.. table:: SWR2.5
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.5       | The software shall suspend the engine turn-off sequence if a critical condition is detected, such as |
   |              | driver override (e.g., accelerator pressed).                                                         |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.6:

.. table:: SWR2.6
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.6       | The software shall read the cabin temperature (T_in), external temperature (T_ext), and the HVAC     |
   |              | setpoint (T_set) from the HVAC control unit. If T_in exceeds T_set by at least 5°C and T_ext is also |
   |              | above T_set, the software shall classify the A/C as being in high demand and shall inhibit engine    |
   |              | turn-off.                                                                                            |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.7:

.. table:: SWR2.7
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.7       | The software shall read door status signals (e.g., driver door open) and shall not execute the       |
   |              | engine turn-off command if a monitored door is open.                                                 |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.8:

.. table:: SWR2.8
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.8       | The software shall store any reason for turn-off inhibition (e.g., low battery, high A/C use, door   |
   |              | open) in a diagnostic buffer for real-time viewing and future troubleshooting.                       |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR2.9:

.. table:: SWR2.9
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR2.9       | The software shall read the inclinometer value and confirm that the vehicle’s inclination is within  |
   |              | ±5° of horizontal (0°) before allowing the engine turn-off sequence. If the inclination exceeds this |
   |              | range, the engine shall remain running.                                                              |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR3.1:

.. table:: SWR3.1
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR3.1       | The software shall detect brake pedal release or accelerator pedal press from the brake/accelerator  |
   |              | sensor signals as a restart trigger.                                                                 |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR3.4:

.. table:: SWR3.4
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR3.4       | The software shall continuously verify battery voltage and SoC status prior to and during restart,   |
   |              | aborting if critical parameters fall below safe thresholds.                                          |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR3.5:

.. table:: SWR3.5
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR3.5       | The software shall log any failure to restart the engine in the diagnostic buffer with an associated |
   |              | fault code and relevant sensor data (battery voltage, temperature, etc.).                            |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR4.2:

.. table:: SWR4.2
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR4.2       | The software shall maintain a real-time model or filtered variable representing available battery    |
   |              | capacity and refresh it periodically.                                                                |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR4.3:

.. table:: SWR4.3
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR4.3       | The software shall cross-check the battery SoC against the configured thresholds before allowing the |
   |              | engine turn-off sequence, setting an internal flag if the thresholds are not met.                    |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR4.4:

.. table:: SWR4.4
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR4.4       | The software shall evaluate the battery output (voltage/current) and flag a fault (e.g., DTC code)   |
   |              | if the reading is below normal operating range for a period exceeding a calibrated timeout.          |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR4.5:

.. table:: SWR4.5
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR4.5       | The software shall transmit battery voltage, and SoC status data to the dashboard via the CAN bus.   |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR5.1:

.. table:: SWR5.1
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR5.1       | The software shall send a message (text or icon) to the instrument cluster or infotainment display   |
   |              | when the engine is turned off by the Stop/Start routine.                                             |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR5.2:

.. table:: SWR5.2
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR5.2       | The software shall provide a fault indication (lamp/message) on the dashboard if an internal error,  |
   |              | low battery, or other malfunction is detected that disables Stop/Start functionality.                |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR5.3:

.. table:: SWR5.3
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR5.3       | The software shall update dashboard indicators (e.g., “Engine Off,” “Engine On,” “System Fault”)     |
   |              | upon receiving any state change in the Stop/Start system.                                            |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR6.1:

.. table:: SWR6.1
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR6.1       | The software shall periodically evaluate system health signals (sensor status, battery condition,    |
   |              | temperature) to detect adverse conditions.                                                           |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR6.2:

.. table:: SWR6.2
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR6.2       | The software shall set a “System Disabled” state if any adverse condition remains true for more than |
   |              | a predefined duration (configurable safety timeout).                                                 |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR6.3:

.. table:: SWR6.3
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR6.3       | The software shall send a “System Disabled” warning via the dashboard interface.                     |
   +--------------+------------------------------------------------------------------------------------------------------+



.. _SWR6.4:

.. table:: SWR6.4
   :align: left

   +--------------+------------------------------------------------------------------------------------------------------+
   | **ID**       | **Description**                                                                                      |
   +==============+======================================================================================================+
   | SWR6.4       | The software shall record each disabling event with a unique fault code, timestamp, and relevant     |
   |              | sensor data (battery voltage, door status, temperature) in non-volatile memory for diagnostics       |
   |              | (diagnostic buffer).                                                                                 |
   +--------------+------------------------------------------------------------------------------------------------------+

